services:
  sqlpipe:
    build:
      context: .
      dockerfile: sqlpipe.dockerfile
    container_name: sqlpipe
    platform: linux/amd64
    ports:
      - "9000:9000"
    deploy:
      resources:
        limits:
          memory: 4G

  mssql:
    image: mcr.microsoft.com/mssql/server
    platform: linux/amd64
    container_name: mssql
    environment:
      ACCEPT_EULA: Y
      SA_PASSWORD: Mypass123
    ports:
      - "1433:1433"
    deploy:
      resources:
        limits:
          memory: 4G

  postgresql:
    image: postgres
    platform: linux/amd64
    container_name: postgresql
    ports:
      - 5432:5432
    environment:
      POSTGRES_PASSWORD: Mypass123
    deploy:
      resources:
        limits:
          memory: 4G

  mysql:
    image: mysql
    platform: linux/amd64
    container_name: mysql
    environment:
      - MYSQL_ROOT_PASSWORD=Mypass123
    ports:
      - "3306:3306"
    deploy:
      resources:
        limits:
          memory: 4G
    command: --local-infile=1

  oracle:
    container_name: oracle
    image: oracle/database:21CXE
    ports:
      - "1521:1521"
    environment:
      - ORACLE_PWD=Mypass123
      - NLS_CHARACTERSET=AL32UTF8
    deploy:
      resources:
        limits:
          memory: 8G
